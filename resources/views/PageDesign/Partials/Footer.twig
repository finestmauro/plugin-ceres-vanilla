{% import "Ceres::PageDesign.Macros.LayoutContainer" as LayoutContainer %}

{% set numberOfCols = config('Ceres.footer.number_of_cols') %}
{% set colSize = (12 / (numberOfCols + 1)) %}
{% set displayedCategories = [] %}
{% set numberOfFeatures = config('Ceres.footer.number_of_features') %}
{% set topButtonPosition = config('Ceres.footer.to_top_button') %}

{% set footerContainer = LayoutContainer.show("Ceres::Footer") | trim %}
{% if footerContainer is empty %}

<div class="footer">

    <div class="{% if topButtonPosition == "right" %}back-to-top{% else %}back-to-top-center{% endif %} hidden-sm-down">
        <i class="fa fa-chevron-up"></i>
    </div>

    <div class="to-top hidden-md-up" v-scroll-to-top>
        <i class="fa fa-arrow-up" aria-hidden="true"></i>
    </div>

    {% if numberOfFeatures > 0 %}
        <div class="footer-features p-y-1 container-max">
            <div class="row">
                {% for i in 1..numberOfFeatures %}
                    <div class="col-xs-12 col-sm-4 text-xs-center">
                        <i class="fa fa-check text-success" aria-hidden="true"></i>
                        {{ trans('Ceres::Template.footerStoreFeature' ~ i) }}
                    </div>
                {% endfor %}
            </div>
        </div>
    {% endif %}


    <div class="container-max footer-content">
        <div class="row">
            <div class="col-xs-12">
                <div class="footer-services m-t-2">
                    {% set paymentMethodContent = LayoutContainer.show("Ceres::Homepage.PaymentMethods") %}
                    {% if paymentMethodContent|trim is not empty %}
                        <div class="services-payment m-b-1">
                            <strong class="services-title">{{ trans("Ceres::Template.footerPaymentMethods") }}</strong>
                            {{ paymentMethodContent }}
                        </div>
                    {% endif %}
                    {% set shippingContent = LayoutContainer.show("Ceres::Homepage.Shipping") %}
                    {% if shippingContent|trim is not empty %}
                        <div class="services-shipping m-b-1">
                            <strong class="services-title">{{ trans("Ceres::Template.footerOrderShippedBy") }}</strong>
                            {{ shippingContent }}
                        </div>
                    {% endif %}
                    {% set certifiedContent = LayoutContainer.show("Ceres::Homepage.Certified") %}
                    {% if certifiedContent|trim is not empty %}
                        <div class="services-certificate m-b-1">
                            <strong class="services-title">{{ trans("Ceres::Template.footerCertifiedBy") }}</strong>
                            {{ certifiedContent }}
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>

        <div class="row">
            <hr class="m-y-2">
            {% for i in 1..numberOfCols %}
                <div class="col-xs-6 col-sm-3 col-lg-2">
                    <nav class="footer-column m-b-2">
                        <h2 class="h5">{{ trans('Ceres::Template.footerColumnTitle' ~ i) }}</h2>
                        <ul class="list-unstyled">

                            {% set footerCategories = config('Ceres.footer.col_' ~ i ~ '_categories') | find("[0-9]+") %}
                            {% for catID in footerCategories %}

                                {% set cat = services.category.get(catID, lang) %}

                                {% if cat is not null %}
                                    {% set displayedCategories = displayedCategories | merge([catID]) %}
                                    <li>
                                        <a href="{{ services.category.getURL( cat ) }}">
                                            {{ cat.details.first.name }}</a>
                                    </li>
                                {% endif %}

                            {% endfor %}

                        </ul>
                    </nav>
                </div>
            {% endfor %}
            <hr class="hidden-sm-up m-y-2">
            <div class="col-xs-6 col-sm-3">
                <div class="footer-column">
                    {{ LayoutContainer.show("Ceres::Footer.RowOne") }}
                </div>
            </div>
            <div class="col-xs-12 col-sm-3">
                <div class="footer-column row">
                    {% set rowTwo = LayoutContainer.show("Ceres::Footer.RowTwo") %}

                    {{ rowTwo }}

                    <div class="col-xs-12{% if rowTwo|trim is not empty %} col-sm-6 col-lg-12{% endif %}">
                        {{ LayoutContainer.show("Ceres::Footer.RowThree") }}
                    </div>
                </div>
            </div>
        </div>

        {% set cat = services.category.get(config('Ceres.global.category.legal_disclosure')) %}
        <div class="copyright text-xs-center m-y-1">
            <div class="static-link-list">
                {% autoescape false %}
                    <a href="{{ urls.cancellationRights }}">{{ trans("Ceres::Template.footerCancellationRight", {"hyphen": "&shy;"}) }}</a>
                    {% if config("Ceres.footer.cancellation_use_pdf") == "true" %}
                        <a href="{{ config('Ceres.footer.cancellation_pdf_path') }}" target="_blank">{{ trans("Ceres::Template.footerCancellationForm", {"hyphen": "&shy;"}) }}</a>
                    {% else %}
                        <a href="{{ urls.cancellationForm }}">{{ trans("Ceres::Template.footerCancellationForm", {"hyphen": "&shy;"}) }}</a>
                    {% endif %}
                    <a href="{{ urls.legalDisclosure }}">{{ trans("Ceres::Template.footerLegalDisclosure") }}</a>
                    <a href="{{ urls.privacyPolicy }}">{{ trans("Ceres::Template.footerPrivacyPolicy", {"hyphen": "&shy;"}) }}</a>
                    <a href="{{ urls.gtc }}">{{ trans("Ceres::Template.footerGtc") }}</a>
                    {% if config("Ceres.contact.shop_mail") | length > 0 and config("Ceres.contact.shop_mail") != "your@email.com" %}
                        <a href="{{ urls.contact }}">{{ trans("Ceres::Template.footerContact") }}</a>
                    {% endif %}
                {% endautoescape %}
            </div>
            <a rel="nofollow" href="https://www.plentymarkets.eu">
                <img alt="Plentymarkets GmbH Logo" class="svg plenty-brand" src="{{ plugin_path('Ceres') }}/images/plentymarkets-logo.svg" rel="nofollow" crossorigin="anonymous">
            </a>
            <br>
            <small>&copy; Copyright {{ "now" | date("Y") }} | {{ trans("Ceres::Template.footerAllRightsReserved") }}</small>
        </div>
    </div>
</div>
{% else %}
    <div class="footer container-max">
        <div class="row">
            <div class="col clearfix">
                {{ footerContainer | raw }}
            </div>
        </div>
    </div>
{% endif %}

<footer class="py-4">
	<div class="container">
		<div class="row">
			<div class="col-xs-12 col-md-6 col-lg-3 mb-5">
				<div class="h5">Finest Apps</div>
				<a class="d-block w-50 mr-auto mb-2" title="Lade die Finest Trachten iOS App bei iTunes" href="https://itunes.apple.com/de/app/finest-trachten/id710530200?mt=8" target="_blank">
					<img src="https://www.finest-trachten.info/images/itunes.jpg" alt="Lade die Finest Trachten iOS App bei iTunes" class="w-100">
				</a>
				<a class="d-block w-50 mr-auto mb-2" title="Lade die Finest Trachten Android App bei Google Play" href="https://play.google.com/store/apps/details?id=com.shopgate.android.app11080" target="_blank">
					<img src="https://www.finest-trachten.info/images/playstore.jpg" alt="Lade die Finest Trachten Android App bei Google Play" class="w-100">
				</a>
			</div>
			<div class="col-xs-12 col-md-6 col-lg-4 mb-5">
				<div class="h5">Schnell gefunden für Damen</div>
				<ul class="list-unstyled text-sm m-0">
					<li class="mb-1"><a class="text-muted text-uppercase" href="/schnell-gefunden-damen/dirndl-nach-farbe/">Dirndl nach FARBE finden</a></li>
					<li class="mb-1"><a class="text-muted text-uppercase" href="/schnell-gefunden-damen/dirndl-nach-groesse/">Dirndl nach GRÖßE finden</a></li>
					<li class="mb-1"><a class="text-muted text-uppercase" href="/schnell-gefunden-damen/dirndl-nach-laenge/">Dirndl nach LÄNGE finden</a></li>
					<li class="mb-1"><a class="text-muted text-uppercase" href="/schnell-gefunden-damen/dirndlbluse-nach-farbe/">Bluse nach FARBE finden</a></li>
					<li class="mb-1"><a class="text-muted text-uppercase" href="/schnell-gefunden-damen/dirndlbluse-nach-groesse/">Bluse nach GRÖßE finden</a></li>
				</ul>
			</div>
			<div class="col-xs-12 col-md-6 col-lg-4 mb-5">
				<div class="h5">Schnell gefunden für Herren</div>
				<ul class="list-unstyled text-sm m-0">
					<li class="mb-1"><a class="text-muted text-uppercase" href="/schnell-gefunden-herren/lederhose-nach-groesse/">Lederhose nach GRÖßE finden</a></li>
					<li class="mb-1"><a class="text-muted text-uppercase" href="/schnell-gefunden-herren/lederhose-nach-laenge/">Lederhose nach LÄNGE finden</a></li>
					<li class="mb-1"><a class="text-muted text-uppercase" href="/schnell-gefunden-herren/trachtenhemd-nach-groesse/">Hemd nach GRÖßE finden</a></li>
					<li class="mb-1"><a class="text-muted text-uppercase" href="/schnell-gefunden-herren/trachtenhemd-nach-farbe/">Hemd nach FARBE finden</a></li>
					<li class="mb-1"><a class="text-muted text-uppercase" href="/schnell-gefunden-herren/weste-nach-groesse/">Weste nach GRÖßE finden</a></li>
				</ul>
			</div>
			<div class="col-xs-12 col-md-6 col-lg-4 mb-5">
				<div class="h5">Unsere Zahlarten</div>
				<img src="https://www.finest-trachten.info/images/payment-methods.jpg" alt="Unsere Zahlarten" class="w-100">
			</div>
			<div class="col-xs-12 col-md-6 col-lg-4 mb-5">
				<div class="h5">Datenschutz nach DSGVO</div>
				<a title="Datenschutz" href="{% Link(12) %}">
					<img src="https://www.finest-trachten.info/images/datenschutz.jpg" alt="Datenschutz nach DSGVO" class="w-50 mb-2 pr-2 float-left">
				</a>
			</div>
			<div class="col-xs-12 col-md-6 col-lg-4 mb-5">
				<div class="h5">Social Media</div>
				<ul class="list-unstyled text-sm m-0">
                    <li class="mb-1"><a class="text-muted text-uppercase" title="Facebook" href="https://www.facebook.com/Finest-trachtende-199748796742010/" target="_blank"><i class="fab fa-facebook-square"></i>  Facebook</a></li>
                    <li class="mb-1"><a class="text-muted text-uppercase" title="Youtube" href="https://www.youtube.com/channel/UCqvrncrDtnr78KwnIWtNw8w/videos?view=0&shelf_id=0&sort=dd" target="_blank"><i class="fab fa-youtube"></i>  Youtube</a></li>
                    <li class="mb-1"><a class="text-muted text-uppercase" title="Pinterest" href="https://www.pinterest.de/finesttrachtend/" target="_blank"><i class="fab fa-pinterest"></i>  Pinterest</a></li>
                    <li class="mb-1"><a class="text-muted text-uppercase" title="Instagram" href="https://www.instagram.com/finesttrachten/" target="_blank"><i class="fab fa-instagram"></i>  Instagram</a></li>
                    <li class="mb-1"><a class="text-muted text-uppercase" title="Google Plus" href="https://plus.google.com/+Finest-trachtenDe" target="_blank"><i class="fab fa-google-plus-g"></i>  Google +</a></li>
				</ul>
			</div>
		</div>
	</div>
</footer>

<copyright>
	<div class="container">
		<div class="row">
			<div class="col">
				<p class="w-100 my-3 text-center">&copy; 2018 Finest Trachten GbR - All rights reserved.</p>
			</div>
		</div>
	</div>
</copyright>
